<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="net.fullstack7.edusecond.edusecond.mapper.MemberMapper">
    
    <!--회원 조회-->
    <select id="selectMemberById" resultType="net.fullstack7.edusecond.edusecond.domain.MemberVO">
        SELECT * FROM tbl_member WHERE userId = #{userId}
    </select>
    
    <!--회원 등록-->
    <insert id="insertMember">
        INSERT INTO tbl_member (
            userId, userPw, userName, userEmail, 
            userPhone, userAddress, userPostcode, userBirth
        ) VALUES (
            #{userId}, #{userPw}, #{userName}, #{userEmail}, 
            #{userPhone}, #{userAddress}, #{userPostcode}, #{userBirth}
        )
    </insert>
    
    <!--회원 수정-->
    <update id="updateMember">
        UPDATE tbl_member
        SET userPw = #{userPw},
            userName = #{userName},
            userEmail = #{userEmail},
            userPhone = #{userPhone},
            userAddress = #{userAddress},
            userPostcode = #{userPostcode},
            userBirth = #{userBirth},
            modifyDate = NOW()
        WHERE userId = #{userId}
    </update>
    
    <!--회원 삭제-->
    <delete id="deleteMember">
        DELETE FROM tbl_member WHERE userId = #{userId}
    </delete>

    <!--어드민용 전체 회원 조회 + 페이징-->
    <select id="selectAllMember" resultType="net.fullstack7.edusecond.edusecond.domain.MemberVO">
        SELECT * FROM tbl_member
        ORDER BY regDate DESC
    </select>
</mapper>